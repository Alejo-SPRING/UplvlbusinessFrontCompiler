{"version":3,"sources":["./src/app/views/pages/ingresar/ingresar.component.ts","./src/app/views/pages/ingresar/ingresar.component.html","./src/app/views/pages/ingresar/ingresar.module.ts"],"names":[],"mappings":"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","file":"views-pages-ingresar-ingresar-module.js","sourcesContent":["import { Component, Inject, OnInit, Renderer2 } from '@angular/core';\r\nimport { LoaderComponent } from '../../loader/loader.component';\r\nimport { UsuarioService } from '../../../services/usuario.service';\r\nimport { MensajesComponent } from '../../mensajes/mensajes.component';\r\nimport { Router } from '@angular/router';\r\nimport swal from 'sweetalert2';\r\nimport { CatalogoService } from 'src/app/services/catalogo.service';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { PedidoService } from 'src/app/services/pedido.service';\r\nimport { NotificationsService } from 'src/app/services/notifications.service';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport { NavbarComponent } from '../../layout/navbar/navbar.component';\r\nimport { QuejasService } from 'src/app/services/quejas.service';\r\nimport { UnpaidOrderComponent } from '../../layout/base/unpaid-order/unpaid-order.component';\r\nimport { ComprasService } from 'src/app/services/compras.service';\r\n\r\n@Component({\r\n  selector: 'app-ingresar',\r\n  templateUrl: './ingresar.component.html',\r\n  styleUrls: ['./ingresar.component.scss']\r\n})\r\nexport class IngresarComponent implements OnInit {\r\n\r\n  public usuario: {\r\n    correo: string,\r\n    password: string\r\n  };\r\n  private mensajesComponent: MensajesComponent = new MensajesComponent(this.router);\r\n\r\n  constructor(private usuarioService: UsuarioService, private router: Router, private comprasService: ComprasService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.usuario = {\r\n      correo: \"\",\r\n      password: \"\"\r\n    };\r\n  }\r\n\r\n  public login(): void {\r\n    LoaderComponent.status = true;\r\n    this.usuarioService.login(this.usuario.correo, this.usuario.password).subscribe(\r\n      response => {\r\n        sessionStorage.removeItem(\"usuarioData\");\r\n        sessionStorage.setItem(\"usuarioData\", JSON.stringify(response));\r\n        response.roles.forEach(rol => {\r\n          if (rol.authority == \"ROLE_CLIENTE\") {\r\n            this.getInformationCompras();\r\n            this.router.navigate([\"/cliente/catalogo\"]);\r\n            swal.fire(\"¡Bienvenid@!\", \"¡Puedes chatear con nosotros cuando quieras!\", \"success\");\r\n          } else if (rol.authority == \"ROLE_ADMIN\") {\r\n            this.router.navigate([\"/admin/inventario\"]);\r\n            swal.fire(\"¡Bienvenid@!\", \"¡No dudes en comunicarte con nosotros si hay algun error!\", \"success\");\r\n          } else {\r\n            swal.fire(\"¡Error!\", \"¡El rol:\" + rol.authority + \" no se encuentra!\", \"error\");\r\n          }\r\n        });\r\n      },\r\n      error => {\r\n        this.mensajesComponent.mensajesError(error);\r\n        LoaderComponent.status = false;\r\n      }\r\n    );\r\n  }\r\n\r\n  private getInformationCompras(): void {\r\n    LoaderComponent.status = true;\r\n    this.comprasService.getInformationCompras().subscribe(\r\n      response => {\r\n        UnpaidOrderComponent.comprasInformation = response;\r\n        UnpaidOrderComponent.comprasInformation.totalGastos = UnpaidOrderComponent.comprasInformation.totalGastos == null ? 0 : UnpaidOrderComponent.comprasInformation.totalGastos;\r\n        LoaderComponent.status = false;\r\n      },\r\n      error => {\r\n        this.mensajesComponent.mensajesError(error);\r\n        LoaderComponent.status = false;\r\n      }\r\n    );\r\n  }\r\n\r\n}\r\n","<nav class=\"page-breadcrumb\">\r\n    <ol class=\"breadcrumb\">\r\n        <li class=\"breadcrumb-item\"><a routerLink=\"/\">Inicio</a></li>\r\n        <li class=\"breadcrumb-item\" aria-current=\"page\">Ingresar</li>\r\n    </ol>\r\n</nav>\r\n<div class=\"row w-100 mx-0 auth-page\">\r\n    <div class=\"col-md-8 col-xl-6 mx-auto\">\r\n        <div class=\"card\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-4 pr-md-0\">\r\n                    <div class=\"auth-left-wrapper\">\r\n\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-md-8 pl-md-0\">\r\n                    <div class=\"auth-form-wrapper px-4 py-5\">\r\n                        <a routerLink=\"/\" class=\"noble-ui-logo d-block mb-2 texto-color2\">Uplvl<span class=\"texto-color\">Business</span></a>\r\n                        <h5 class=\"text-muted font-weight-normal mb-4\">¡Bienvenido! Ingresa con tu cuenta.</h5>\r\n                        <form class=\"forms-sample\" #form=\"ngForm\">\r\n                            <div class=\"form-group\">\r\n                                <label for=\"username\">Nick name o\r\n                                    correo</label> <input type=\"text\" name=\"correo\" #correo=\"ngModel\" [(ngModel)]=\"usuario.correo\" [class.is-valid]=\"!correo.invalid && (correo.dirty || correo.touched)\" [class.is-invalid]=\"correo.invalid && (correo.dirty || correo.touched)\"\r\n                                    autocomplete=\"off\" class=\"form-control rounded-pill\" id=\"username\" required minlength=\"5\" maxlength=\"100\" placeholder=\"Nick name o correo\" name=\"username\" />\r\n                                <div *ngIf=\"correo.invalid && (correo.dirty || correo.touched)\">\r\n                                    <div *ngIf=\"correo.errors.required\">\r\n                                        <p class=\"text-danger\">¡Ingresa un correo o Nick name!</p>\r\n                                    </div>\r\n                                    <div *ngIf=\"correo.errors.maxlength\">\r\n                                        <p class=\"text-danger\">¡Ingresa un correo o Nick name con maximo 100 caracteres!</p>\r\n                                    </div>\r\n                                    <div *ngIf=\"correo.errors.minlength\">\r\n                                        <p class=\"text-danger\">¡Ingresa un correo o Nick name con minimo 5 caracteres!\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"form-group\">\r\n                                <label for=\"password\">Contraseña</label>\r\n                                <input type=\"password\" required minlength=\"5\" maxlength=\"10\" [(ngModel)]=\"usuario.password\" #password=\"ngModel\" [class.is-valid]=\"!password.invalid && (password.dirty || password.touched)\" [class.is-invalid]=\"password.invalid && (password.dirty || password.touched)\"\r\n                                    autocomplete=\"off\" class=\"form-control rounded-pill\" id=\"password\" name=\"password\" placeholder=\"***********\">\r\n                                <div *ngIf=\"password.invalid && (password.dirty || password.touched)\">\r\n                                    <div *ngIf=\"password.errors.required\">\r\n                                        <p class=\"text-danger\">¡Ingresa una contraseña!</p>\r\n                                    </div>\r\n                                    <div *ngIf=\"password.errors.minlength\">\r\n                                        <p class=\"text-danger\">¡Ingresa una contraseña con minimo 5 caracteres!\r\n                                        </p>\r\n                                    </div>\r\n                                    <div *ngIf=\"password.errors.maxlength\">\r\n                                        <p class=\"text-danger\">¡Ingresa una contraseña con maximo 10 caracteres!\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </div>\r\n                            <div class=\"mt-3\">\r\n                                <button type=\"submit\" [disabled]=\"!form.form.valid\" (click)=\"login()\" class=\"btn fondo fondohover text-light rounded-pill mr-2 mb-2 mb-md-0\"><i class=\"feather icon-log-in btn-icon-prepend\"></i> Ingresar</button>\r\n                            </div>\r\n                            <a routerLink=\"/registrar\" class=\"d-block mt-3 text-muted\">¿No tienes un usuario? Registrar</a>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { IngresarComponent } from './ingresar.component';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: \"ingresar\", component: IngresarComponent\r\n  }\r\n];\r\n@NgModule({\r\n  declarations: [IngresarComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    RouterModule.forChild(routes)\r\n  ]\r\n})\r\nexport class IngresarModule { }\r\n"],"sourceRoot":"webpack:///"}